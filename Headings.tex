%%%------------------------------------%%%
%%% General
%%%------------------------------------%%%
\usepackage[left=3cm,right=3cm,top=2.5cm,bottom=2.5cm]{geometry}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{microtype}

%\usepackage[ngerman]{babel}
%\addto\captionsngerman{\renewcommand{\refname}{\nameofreferences}}
%\addto\captionsngerman{\renewcommand\listfigurename{\nameoflistoffigures}}
%\addto\captionsngerman{\renewcommand\listtablename{\nameoflistoftables}}

\usepackage[headings]{fullpage}
\usepackage{changepage}

\parindent0cm
\clubpenalty=10000
\widowpenalty=10000
\displaywidowpenalty=10000

%%%------------------------------------%%%
%%% Line Spacing
%%%------------------------------------%%%
\usepackage{setspace}
\spacing{1.5}

%%%--------------------------------%%%
%%% Font
%%%--------------------------------%%%
\usepackage{\typeface} % lmodern, palatino

%%%------------------------------------%%%
%%% Caption
%%%------------------------------------%%%
\usepackage{caption}
\captionsetup{labelfont=sc, textfont=it} % ... in small caps
\captionsetup[figure]{name=\nameoffigures}
\captionsetup[table]{name=\nameoftables}

%%%------------------------------------%%%
%%% Quote
%%%------------------------------------%%%
\usepackage[autostyle=true,german=quotes]{csquotes}

%%%------------------------------------%%%
%%% Frames
%%%------------------------------------%%%
\usepackage{framed}

%%%------------------------------------%%%
%%% Links
%%%------------------------------------%%%
\usepackage{hyperref}
\hypersetup{
	hidelinks,colorlinks,breaklinks = true,
	colorlinks = true, 		%Color links instead of boxes
	urlcolor   = black,		%Color for external hyperlinks
	linkcolor  = black, 	%Color of internal links
	citecolor  = black,		%Color of citations
	bookmarksopen = false
}

%%%------------------------------------%%%
%%% Bibliography
%%%------------------------------------%%%
\usepackage[
	backend=biber,
	style=numeric,					% alternative: alphabetic-verb
	citestyle=numeric-comp,		% alternative: alphabetic-verb
	sorting=none,
	natbib=true,
	uniquelist=true,
	minbibnames=1,maxbibnames=4,
	maxcitenames=1,mincitenames=1]{biblatex}
	
\addbibresource{references.bib}

%%%------------------------------------%%%
%%% Header & Footer
%%%------------------------------------%%%
\usepackage{fancyhdr}

\fancypagestyle{nice}{%
	\fancyhf{}
	\fancyhead[L]{\leftmark}
	\fancyfoot[C]{\rule{3cm}{0.5pt}\\[0.1em]\thepage}
	\renewcommand{\headrulewidth}{0.4pt}
	\renewcommand{\footrulewidth}{0pt}
}

\fancypagestyle{simple}{%
	\fancyhead{}
	\fancyfoot[C]{\rule{3cm}{0.5pt}\\[0.1em]\thepage}
	\renewcommand{\headrulewidth}{0pt}
	\renewcommand{\footrulewidth}{0pt}
}

%%%------------------------------------%%%
%%% Advanced Color
%%%------------------------------------%%%
\usepackage[table]{xcolor}

%%%------------------------------------%%%
%%% Picture
%%%------------------------------------%%%
% https://en.wikibooks.org/wiki/LaTeX/Importing_Graphics

\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage{subfig}
\usepackage{placeins} % For \FloatBarrier
\graphicspath{{Content/Figures/}}

%%%------------------------------------%%%
%%% Table
%%%------------------------------------%%%
% https://en.wikibooks.org/wiki/LaTeX/Tables

\usepackage{multirow}	
\usepackage{tabularx}
\usepackage{booktabs}
\renewcommand{\arraystretch}{1.3}
\definecolor{rowfirst}{RGB}{245, 245, 245}
\definecolor{rowsecond}{RGB}{250, 250, 250}
%\rowcolors{1}{rowfirst}{rowsecond}

%%%------------------------------------%%%
%%% Acronym
%%%------------------------------------%%%
\usepackage[printonlyused]{acronym}

%%%------------------------------------%%%
%%% Symbols
%%%------------------------------------%%%
\usepackage{pifont}
\usepackage{amssymb}

%%%------------------------------------%%%
%%% Math
%%%------------------------------------%%%
\usepackage{amsmath}
\usepackage{theorem}

%%%------------------------------------%%%
%%% List of equations
%%%------------------------------------%%%
\usepackage{float}
\newfloat{eq}{H}{for}[section]
\newcommand{\forname}{\nameoflistofequations}
\newcommand{\listofequations}{\listof{eq}{\forname}}

\newcommand{\eqlabel}[2]{
	\label{#1}
	\addcontentsline{for}{eq}{(\ref{#1}) \quad #2}}

%%%------------------------------------%%%
%%% Listings
%%%------------------------------------%%%
\usepackage{listings}
\renewcommand{\lstlistingname}{\nameoflistings}
\renewcommand{\lstlistlistingname}{\nameoflistoflistings}

\lstset{
	inputpath=Content/Listings/,
	literate=
	{á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1
	{Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1
	{à}{{\`a}}1 {è}{{\`e}}1 {ì}{{\`i}}1 {ò}{{\`o}}1 {ù}{{\`u}}1
	{À}{{\`A}}1 {È}{{\'E}}1 {Ì}{{\`I}}1 {Ò}{{\`O}}1 {Ù}{{\`U}}1
	{ä}{{\"a}}1 {ë}{{\"e}}1 {ï}{{\"i}}1 {ö}{{\"o}}1 {ü}{{\"u}}1
	{Ä}{{\"A}}1 {Ë}{{\"E}}1 {Ï}{{\"I}}1 {Ö}{{\"O}}1 {Ü}{{\"U}}1
	{â}{{\^a}}1 {ê}{{\^e}}1 {î}{{\^i}}1 {ô}{{\^o}}1 {û}{{\^u}}1
	{Â}{{\^A}}1 {Ê}{{\^E}}1 {Î}{{\^I}}1 {Ô}{{\^O}}1 {Û}{{\^U}}1
	{œ}{{\oe}}1 {Œ}{{\OE}}1 {æ}{{\ae}}1 {Æ}{{\AE}}1 {ß}{{\ss}}1
	{ű}{{\H{u}}}1 {Ű}{{\H{U}}}1 {ő}{{\H{o}}}1 {Ő}{{\H{O}}}1
	{ç}{{\c c}}1 {Ç}{{\c C}}1 {ø}{{\o}}1 {å}{{\r a}}1 {Å}{{\r A}}1
	{€}{{\euro}}1 {£}{{\pounds}}1 {«}{{\guillemotleft}}1
	{»}{{\guillemotright}}1 {ñ}{{\~n}}1 {Ñ}{{\~N}}1 {¿}{{?`}}1
}

%%%------------------------------------%%%
%%% Fancy Listings
%%%------------------------------------%%%
\definecolor{lstBlue}{RGB}{42,0,255} 	% strings
\definecolor{lstGreen}{RGB}{41,96,68} 	% comments
\definecolor{lstPurple}{RGB}{127,0,85} 	% keywords
\definecolor{lstBG}{RGB}{250, 250, 250} % background

%%% Code style > FANCY <
%%%------------------------------------%%%
\lstdefinestyle{fancy}{
	backgroundcolor=\color{lstBG}, 
	captionpos=t,
	frame=b,          		% frame
	framesep=1pt,
	xleftmargin=17pt,
	framexleftmargin=17pt,
	framexrightmargin=5pt,
	framexbottommargin=4pt,
	numbers=left,			% line numbers
	numberstyle=\scriptsize,
	numbersep=2.5ex,		% space between line number and code		
	numberblanklines=true,	% line number at empty lines?
	extendedchars=true,	
	basicstyle=\ttfamily\small,
	keywordstyle=\color{lstPurple}\bfseries,
	stringstyle=\color{lstBlue},
	commentstyle=\color{lstGreen},
	morecomment=[s][\color{lstGreen}]{/**}{*/},
	stepnumber=1,
	tabsize=3,
	showspaces=false,
	showstringspaces=false,
	columns=fullflexible,
	breaklines=true
}

%%% Code style > txtfile <
%%%------------------------------------%%%
\lstdefinestyle{txtfile}{
	backgroundcolor=\color{lstBG}, 
	captionpos=t,
	frame=b,          		% frame
	framesep=1pt,
	xleftmargin=17pt,
	framexleftmargin=17pt,
	framexrightmargin=5pt,
	framexbottommargin=4pt,
	numbers=left,			% line numbers
	numberstyle=\scriptsize,
	numbersep=2.5ex,		% space between line number and code		
	numberblanklines=true,	% line number at empty lines?
	extendedchars=true,	
	basicstyle=\ttfamily\small,
	stepnumber=1,
	tabsize=3,
	showspaces=false,
	showstringspaces=false,
	columns=fullflexible,
	breaklines=true
}

%%% Add JavaScript Syntax Highlighting
%%%------------------------------------%%%
\lstdefinelanguage{JavaScript}{
	morekeywords=[1]{break, continue, delete, else, for, function, if, in,
		new, return, this, typeof, var, void, while, with},
	% Literals, primitive types, and reference types.
	morekeywords=[2]{false, null, true, boolean, number, undefined,
		Array, Boolean, Date, Math, Number, String, Object},
	% Built-ins.
	morekeywords=[3]{eval, parseInt, parseFloat, escape, unescape},
	sensitive,
	morecomment=[s]{/*}{*/},
	morecomment=[l]//,
	morecomment=[s]{/**}{*/}, % JavaDoc style comments
	morestring=[b]',
	morestring=[b]"
}[keywords, comments, strings]

\lstalias[]{ES6}[ECMAScript2015]{JavaScript}
\lstdefinelanguage[ECMAScript2015]{JavaScript}[]{JavaScript}{
	morekeywords=[1]{await, async, case, catch, class, const, default, do,
		enum, export, extends, finally, from, implements, import, instanceof,
		let, static, super, switch, throw, try},
	morestring=[b]` % Interpolation strings.
}

%%% Add JSON Syntax Highlighting
%%%------------------------------------%%%
\colorlet{punct}{red!60!black}
\definecolor{background}{HTML}{EEEEEE}
\definecolor{delim}{RGB}{20,105,176}
\colorlet{numb}{magenta!60!black}

\lstdefinelanguage{json}{
	literate=
	*{0}{{{\color{numb}0}}}{1}
	{1}{{{\color{numb}1}}}{1}
	{2}{{{\color{numb}2}}}{1}
	{3}{{{\color{numb}3}}}{1}
	{4}{{{\color{numb}4}}}{1}
	{5}{{{\color{numb}5}}}{1}
	{6}{{{\color{numb}6}}}{1}
	{7}{{{\color{numb}7}}}{1}
	{8}{{{\color{numb}8}}}{1}
	{9}{{{\color{numb}9}}}{1}
	{:}{{{\color{punct}{:}}}}{1}
	{,}{{{\color{punct}{,}}}}{1}
	{\{}{{{\color{delim}{\{}}}}{1}
	{\}}{{{\color{delim}{\}}}}}{1}
	{[}{{{\color{delim}{[}}}}{1}
	{]}{{{\color{delim}{]}}}}{1},
}

%\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox[RGB]{222,222,222}{\parbox{\textwidth}{\hspace{15pt}#1#2#3}}}
%\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white, singlelinecheck=false, margin=0pt, font={bf,footnotesize}}
\captionsetup[lstlisting]{format=listing, singlelinecheck=false, margin=0pt, font={footnotesize}}

%%%------------------------------------%%%
%%% PDF
%%%------------------------------------%%%
\usepackage{pdfpages}

%%%------------------------------------%%%
%%% List of appendix
%%%------------------------------------%%%
\usepackage{etoc}

